# ActLLM 取扱説明書

**ActLLM** は、OpenRouterを経由して世界中の多様な大規模言語モデル（LLM）とチャットができるiOSアプリケーションです。
高度なチャット機能、フォルダやタグによる整理、そしてショートカットアプリとの連携による自動化機能を備えています。

---

## 目次
1. [はじめに・初期設定](#1-はじめに初期設定)
2. [チャットの利用方法](#2-チャットの利用方法)
3. [モデルの管理と設定](#3-モデルの管理と設定)
4. [チャットの整理（フォルダ・タグ）](#4-チャットの整理フォルダタグ)
5. [ショートカット連携（自動化）](#5-ショートカット連携自動化)
6. [ActLLM Pro（サブスクリプション）](#6-actllm-proサブスクリプション)
7. [よくある質問・トラブルシューティング](#7-よくある質問トラブルシューティング)

---

## 1. はじめに・初期設定

アプリを利用するには、OpenRouterのAPIキー設定が必要です。

### APIキーの設定
1. アプリを起動し、画面下部のタブから **Settings**（設定）を開きます。
2. **OpenRouter Settings** セクションを探します。
3. 以下のいずれかの方法で設定します：
   - **Sign in with OpenRouter**: ボタンを押し、Webブラウザ経由でOpenRouterにログインして連携します（推奨）。
   - **手動入力**: すでにAPIキーをお持ちの場合は、入力欄に直接貼り付けます。

---

## 2. チャットの利用方法

### 新しいチャットの開始
1. **Chat** タブを開きます。
2. 右上の **作成ボタン**（四角とペンのアイコン）をタップします。
3. 新しいチャット画面が開きます。

### メッセージの送信
- **テキスト入力**: 画面下部の入力欄にメッセージを入力し、右側の **送信ボタン**（上矢印）をタップします。
- **添付ファイル**: 入力欄左側の **クリップアイコン** をタップすると、ファイルや画像を選択して送信できます（画像認識対応モデルの場合）。

### チャット画面の機能
- **モデル切替**: 入力欄の上にあるカプセル状のボタン（例: `openai/gpt-3.5-turbo`）をタップすると、そのチャットで使用するモデルやパラメータを一時的に変更できます。
- **マークダウン共有**: 右上のメニューから共有ボタンをタップすると、会話内容をMarkdown形式で書き出し、他のアプリへ共有できます。

---

## 3. モデルの管理と設定

ActLLMでは、OpenRouterで利用可能な多数のモデルから好きなものを登録して切り替えることができます。

### 新しいモデルの追加
1. **Settings** タブを開きます。
2. **Models** セクションの **+ Add Model** ボタンをタップします。
3. 読み込まれたモデル一覧から、追加したいモデルを選択します。
   - *検索バーで「gpt-4」や「claude」などで検索可能です。*

### モデルごとの詳細設定
Settings画面のリストにあるモデル名をタップすると、以下の設定を変更できます。
- **Default Model**: このモデルを新規チャット作成時のデフォルトにするか設定します。
- **Temperature (0.0 - 1.0)**: 回答の創造性を調整します。高いほど独創的、低いほど論理的・決定的になります。
- **System Prompt**: AIに対する「振る舞い」の指示（例：「あなたはプロの翻訳家です」など）を事前に設定できます。

---

## 4. チャットの整理（フォルダ・タグ）

会話が増えても管理しやすいよう、フォルダとタグ機能があります。

### フォルダの管理
チャット一覧画面（Chatタブ）左上の **フィルターアイコン**（三本線）からアクセスします。
- **Manage Folders**: フォルダの作成・アイコン設定・削除が行えます。
- **フォルダによる絞り込み**: 作成したフォルダを選択すると、そのフォルダ内のチャットのみ表示されます。

### タグの管理
チャット一覧画面右上の **ソートアイコン**（矢印）内の **Manage Tags** からアクセスします。
- **タグの作成**: 名前と色（Blue, Redなど）を指定してタグを作成します。

### チャットへの割り当て
- **チャット詳細画面**: 右上の設定アイコン（スライダー）から、タイトル編集・フォルダ移動・タグ付けが行えます。
- **チャット一覧画面**: チャットを長押しすると、削除やフォルダ移動のメニューが表示されます。

---

## 5. ショートカット連携（自動化）

iOSの「ショートカット」アプリを使用して、ActLLMを自動化ワークフローに組み込むことができます。

### 利用可能なアクション

#### 1. Ask AI (Run AI Chat)
AIにテキストやファイルを送信し、返答を受け取ります。
- **入力**: テキスト（プロンプト）、ファイル（画像など）
- **設定**: モデルの指定、Temperature、System Promptの指定が可能
- **出力**: AIからの回答テキスト、生成された画像など

#### 2. Get AI Response (Get Chat Content)
既存のチャット履歴から特定の内容を取得します。
- **フィルタ**: フォルダやタグで対象のチャットを絞り込み可能
- **取得対象**: 「最新の更新順で1番目のチャット」の「最新のAI回答」などを指定して取得できます。

---

## 6. ActLLM Pro（サブスクリプション）

ActLLMは基本無料で使用できますが、Proプランにアップグレードすることで制限を解除できます。

| 機能 | Free (無料版) | Pro (有料版) |
| :--- | :---: | :---: |
| チャット機能 | 無制限 | 無制限 |
| **ショートカット実行** | **7日間に1回まで** | **無制限** |
| 開発者サポート | - | 開発支援 |

### アップグレード方法
**Settings** タブの **Upgrade to Pro** から、月額または年額プランを選択して登録できます。

---

## 7. よくある質問・トラブルシューティング

**Q. APIキーは安全ですか？**
A. はい。APIキーはiOSの **Keychain**（安全な保存領域）に暗号化されて保存され、外部に送信されるのはOpenRouterへのリクエスト時のみです。

**Q. モデルリストが表示されません。**
A. APIキーが正しく設定されているか確認してください。また、インターネット接続が必要です。

**Q. ショートカットがエラーになります。**
A. 無料プランの場合、ショートカットの実行回数制限（週1回）に達している可能性があります。Settings画面の "Shortcuts Usage" で現在の使用状況を確認できます。

**Q. データのバックアップは？**
A. データは端末内に保存されています。アプリを削除するとデータも消去されるためご注意ください。（※iCloudバックアップ等のOS標準機能には準拠します）
